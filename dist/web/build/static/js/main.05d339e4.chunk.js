(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[1],{210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(84),l=a.n(r),o=a(85);var i=function(){return c.a.createElement("div",{className:"nav"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"nav-logo"},c.a.createElement("h1",{className:"h2 m-0"},"Torrent AIO bot")),c.a.createElement("div",{className:"nav-links"},c.a.createElement(o.a,null))))},s=a(14),u=a(3);function m(e){var t=e.nav;return c.a.createElement("div",{className:"nav nav-horiz"},c.a.createElement("div",{className:"content"},c.a.createElement("ul",{className:"d-flex align-items-center space-around width-100 m-0"},c.a.createElement("li",{className:"cursor-pointer p-0 ph-1 height-100 d-flex align-items-center".concat("search"===t?" border-bottom-1":"")},c.a.createElement(s.b,{to:"/search",className:"height-100 d-flex align-items-center"},c.a.createElement("i",{className:"h2 m-0 d-flex align-items-center"},c.a.createElement("ion-icon",{name:"search-outline"})),c.a.createElement("span",{className:"tablet-desktop-only ml-05"},"Search"))),c.a.createElement("li",{className:"cursor-pointer p-0 ph-1 height-100 d-flex align-items-center".concat("downloads"===t?" border-bottom-1":"")},c.a.createElement(s.b,{to:"/download",className:"height-100 d-flex align-items-center"},c.a.createElement("i",{className:"h2 m-0 d-flex align-items-center"},c.a.createElement("ion-icon",{name:"download-outline"})),c.a.createElement("span",{className:"tablet-desktop-only ml-05"},"Downloads"))),c.a.createElement("li",{className:"cursor-pointer p-0 ph-1 height-100 d-flex align-items-center".concat("drive"===t?" border-bottom-1":"")},c.a.createElement(s.b,{to:"/drive",className:"height-100 d-flex align-items-center"},c.a.createElement("i",{className:"h2 m-0 d-flex align-items-center"},c.a.createElement("ion-icon",{name:"push-outline"})),c.a.createElement("span",{className:"tablet-desktop-only ml-05"},"Drive"))))))}var d=Object(n.lazy)((function(){return a.e(6).then(a.bind(null,216))})),p=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,217))})),b=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,218))}));function v(e){var t=e.tab||"search";return c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{nav:t}),c.a.createElement("main",null,c.a.createElement("div",{className:"content"},c.a.createElement(n.Suspense,{fallback:c.a.createElement("div",{className:"div-loading"})},"search"===t&&c.a.createElement(d,null),"downloads"===t&&c.a.createElement(p,null),"drive"===t&&c.a.createElement(b,null)))))}var g=a(2),h=a.n(g),f=a(6),E=a(1),k=a(7);function O(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),o=Object(E.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)(""),m=Object(E.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)(!1),v=Object(E.a)(b,2),g=v[0],O=v[1],j=Object(n.useState)(""),y=Object(E.a)(j,2),x=y[0],C=y[1],N=Object(n.useState)(!1),S=Object(E.a)(N,2),w=S[0],I=S[1],T=Object(n.useState)(""),L=Object(E.a)(T,2),A=L[0],D=L[1],_=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),I(!0),!a||!i||d){e.next=9;break}return e.next=5,fetch("/api/v1/drive/getAuthURL?clientId=".concat(a,"&clientSecret=").concat(i)).then((function(e){return e.json()}));case 5:!(n=e.sent)||n.error?D(n.error||"An error occured"):(window.open(n.authURL),O(!0)),e.next=14;break;case 9:if(!(a&&i&&d)){e.next=14;break}return e.next=12,fetch("/api/v1/drive/getAuthToken?clientId=".concat(a,"&clientSecret=").concat(i,"&authCode=").concat(d)).then((function(e){return e.json()}));case 12:!(c=e.sent)||c.error?D(c.error||"An error occured"):C(JSON.stringify(c.token));case 14:I(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("main",null,c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Gdrive token generator"),c.a.createElement("form",{onSubmit:_},c.a.createElement(k.a,{id:"clientId",name:"clientId",label:"Client Id",value:a,onChange:r,required:!0}),c.a.createElement(k.a,{id:"clientSecret",name:"clientSecret",label:"Client Secret",value:i,onChange:s,required:!0}),g&&c.a.createElement(k.a,{id:"authCode",name:"authCode",label:"Auth code",value:d,onChange:p,required:!0}),A&&c.a.createElement("div",{style:{color:"red"}},A),c.a.createElement("button",{disabled:w,className:"btn primary".concat(w?" loading":""),type:"submit"},d?"Get auth code":"Generate token")),x&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-1"},x),c.a.createElement("button",{className:"btn primary",onClick:function(){var e=x,t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},"Copy token"))))}var j=a(22),y=a(38),x=a(39),C=a(16),N=a(8),S=a.n(N),w=a(40),I=a.n(w),T=a(15),L=a.n(T),A=a(37),D=["label","labelProps","wrapperClass","onChange","id","options"];function _(e){var t=e.label,a=(e.labelProps,e.wrapperClass),n=e.onChange,r=e.id,l=e.options,o=void 0===l?[]:l,i=Object(A.a)(e,D);return c.a.createElement("div",{className:"form-group ".concat(a||"")},c.a.createElement("label",{htmlFor:r},t),c.a.createElement("select",Object.assign({className:"form-control"},i,{id:r,onChange:function(e){return n(e.target.value)}}),o.map((function(e){return c.a.createElement("option",{key:"option-".concat(e.value),value:e.value},e.label||e.value)}))))}_.defaultProps={type:"text",onChange:function(e){return console.log("Value: ",e)}};var q=_,F=[{label:"1Webseries",value:"1"},{label:"2English",value:"2"},{label:"3English Premium",value:"3"},{label:"4Desi",value:"4"},{label:"5English Bulk",value:"5"},{label:"6Tango&onlyfans",value:"6"},{label:"7-18+",value:"7"}],M={category:F[3].value,size:"20",page:"0",pageIncrementor:"2",isRealImage:!1},R=function(e){var t=e.defaultState,a=e.handleCategoryState,r=e.index,l=e.isLastElement,o=e.handleDeleteCatagory,i=e.isThumbActive,s=void 0!==i&&i,u=Object(n.useState)(t.category||F[0].value),m=Object(E.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)(t.size||"40"),v=Object(E.a)(b,2),g=v[0],h=v[1],f=Object(n.useState)(t.page||"0"),O=Object(E.a)(f,2),j=O[0],y=O[1],x=Object(n.useState)(t.pageIncrementor||"2"),C=Object(E.a)(x,2),N=C[0],S=C[1],w=Object(n.useState)(!!t.isRealImage),I=Object(E.a)(w,2),T=I[0],L=I[1];return Object(n.useEffect)((function(){a({category:d,size:g,page:j,pageIncrementor:N,isRealImage:T},r)}),[d,g,j,N,T]),c.a.createElement("div",{className:"category-select"},c.a.createElement(q,{id:"category",name:"category",label:"Category",options:F,value:d,onChange:p,required:!0}),c.a.createElement(k.a,{id:"size",max:"100",name:"size",label:"Size(Number of messages)",value:g,onChange:h,required:!0,type:"number"}),c.a.createElement(k.a,{id:"page",name:"page",label:"Send Page",value:j,onChange:y,required:!0,type:"number"}),c.a.createElement(k.a,{id:"pageIncrementor",name:"pageIncrementor",label:"Page Increment Factor",value:N,onChange:S,required:!0,type:"number"}),s&&c.a.createElement("div",{style:{paddingBottom:20}},c.a.createElement("input",{type:"checkbox",id:"isRealImage",name:"isRealImage",checked:T,onChange:function(){return L(!T)}}),c.a.createElement("label",{htmlFor:"isRealImage"},"Send real images")),c.a.createElement("div",{className:"category-select-actions"},(!!r||!l)&&c.a.createElement("button",{className:"btn danger ",onClick:o.bind(void 0,r),type:"button"},"Delete"),l&&c.a.createElement("button",{className:"btn outline ",onClick:a.bind(void 0,M),type:"button"},"Add More Category")))},z=a(17),P=a.n(z),U=a(88),Y=a.n(U),G=function(e){var t=e.bgcolor,a=e.progress,n=e.height,r=e.progressText,l={height:n},o={width:"".concat(a,"%"),backgroundColor:t},i={fontSize:n-2};return c.a.createElement("div",{className:"progress-bar",style:l},c.a.createElement("div",{className:"progress-bar-child",style:o},c.a.createElement("span",{className:"progress-bar-text",style:i},r||"".concat(a,"%"))))},B=function(e){var t=e.botState,a=void 0===t?{}:t,n=a.total,r=void 0===n?0:n,l=a.current,o=void 0===l?0:l,i=a.nextData,s=void 0===i?0:i;return c.a.createElement("div",{className:"bot-state"},P()(a)?c.a.createElement("div",null,"No Active task"):c.a.createElement(c.a.Fragment,null,r?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"Current Queue"),c.a.createElement(G,{bgcolor:"#ff00ff",progress:Y()(Math.trunc(100*o/r),0,100),progressText:"".concat(o,"/").concat(r),height:16})):null,s?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"Next Queue"),c.a.createElement(G,{bgcolor:"orange",progress:"0",progressText:"".concat(0,"/",s),height:16})," "):null))},J=function(e){for(var t=Math.floor(e.length/10),a=[],n=0;n<=t;n++)a.push(e.slice(10*n,10*(n+1)));return[a,10]},K=function(){var e=Object(n.useState)(!0),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useCallback)((function(){c("visible"===document.visibilityState)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("visibilitychange",r),function(){document.removeEventListener("visibilitychange",r)}}),[]),{isActive:a}},Q=F.reduce((function(e,t){return Object(C.a)(Object(C.a)({},e),{},Object(x.a)({},t.value,t.label))}),{});function V(){var e=Object(n.useState)({}),t=Object(E.a)(e,2),a=t[0],r=t[1],l=Object(u.f)(),o=Object(n.useState)(!1),i=Object(E.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)("Loading..."),p=Object(E.a)(d,2),b=p[0],v=p[1],g=Object(n.useState)({}),k=Object(E.a)(g,2),O=k[0],x=k[1],C=K().isActive,N=Object(n.useState)([]),w=Object(E.a)(N,2),T=w[0],A=w[1],D=Object(n.useState)({}),_=Object(E.a)(D,2),q=_[0],F=_[1],M=Object(n.useState)({by:"",order:"asc"}),R=Object(E.a)(M,2),z=R[0],U=R[1],Y=a.tasks,G=void 0===Y?[]:Y,V=Object.keys(q),H=V.length?G.filter((function(e){return e[V[0]].includes(q[V[0]])})):G,W=I()(H,z.by,z.order),Z=function(e){var t=z.by===e&&"asc"===z.order?"desc":"asc";U({by:e,order:t})},X=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,S.a.get("/api/v1/task/list");case 3:t=e.sent,a=t.data,r(void 0===a?{}:a),m(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/v1/task/processStats");case 2:t=e.sent,a=t.data,x(void 0===a?{}:a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){X(),$()}),[]),Object(n.useEffect)((function(){if(C&&!s){var e=P()(O)?3e4:1e4,t=setTimeout($,e);return function(){return clearTimeout(t)}}}),[O,C,s]),c.a.createElement("main",null,c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"d-flex flex-1"},c.a.createElement("h1",null,"Tasks List"),c.a.createElement("button",{style:{marginLeft:20},className:"danger",onClick:X},"Refresh")),!!T.length&&c.a.createElement("button",{disabled:s,onClick:Object(f.a)(h.a.mark((function e(){var t,a,n,c,r,l,o,i,s,u,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,m(!0),t=W.filter((function(e){return T.includes(e._id)})),a=J(t),n=Object(E.a)(a,2),c=n[0],r=n[1],l=Object(y.a)(c),e.prev=5,l.s();case 7:if((o=l.n()).done){e.next=23;break}return i=o.value,e.prev=9,s=c.indexOf(i),v("Starting bot on ".concat(s*r,"/").concat(t.length)),e.next=14,S.a.post("/api/v1/task/start",i);case 14:u=e.sent,d=u.data,console.log("tasks response===",d),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:e.next=7;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(5),l.e(e.t1);case 28:return e.prev=28,l.f(),e.finish(28);case 31:m(!1),v("Loading..."),X(),e.next=40;break;case 36:e.prev=36,e.t2=e.catch(0),m(!1),X();case 40:case"end":return e.stop()}}),e,null,[[0,36],[5,25,28,31],[9,19]])})))},"Send ".concat(T.length," chats")),c.a.createElement("button",{onClick:function(){return l.push("/task/upsert")}},"Add")),c.a.createElement(B,{botState:O}),c.a.createElement("div",{className:"d-flex align-center",style:{padding:"15px 0px"}},c.a.createElement("div",null,"Filters: "),c.a.createElement("button",{className:L()(q,"linkType","").includes("mdisk")?"":"outline",onClick:function(){A([]),F(L()(q,"linkType","").includes("mdisk")?{}:{linkType:"mdisk"})}},"Mdisk"),c.a.createElement("button",{className:L()(q,"linkType","").includes("dood")?"":"outline",onClick:function(){A([]),F(L()(q,"linkType","").includes("dood")?{}:{linkType:"dood"})}},"Dood"),c.a.createElement("button",{className:L()(q,"status","").includes("processing")?"":"outline",onClick:function(){A([]),F(L()(q,"status","").includes("processing")?{}:{status:"processing"})}},"processing")),c.a.createElement("table",{className:"task"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement("input",{type:"checkbox",checked:T.length===W.length,onChange:function(e){A(e.target.checked?W.map((function(e){return e._id})):[])}})),c.a.createElement("th",null,"S.No"),c.a.createElement("th",{onClick:function(){return Z("groupInfo.title")}},"Group Name"),c.a.createElement("th",{onClick:function(){return Z("category")}},"Category"),c.a.createElement("th",{onClick:function(){return Z("size")}},"Size"),c.a.createElement("th",{onClick:function(){return Z("page")}},"Send Page"),c.a.createElement("th",{onClick:function(){return Z("pageIncrementor")}},"Page Incrementor"),c.a.createElement("th",{onClick:function(){return Z("channelName")}},"Channel Name"),c.a.createElement("th",{onClick:function(){return Z("linkType")}},"link Type"),c.a.createElement("th",{onClick:function(){return Z("cname")}},"Cname"),c.a.createElement("th",{onClick:function(){return Z("lastExecuted")}},"Last Executed"),c.a.createElement("th",{onClick:function(){return Z("status")}},"Status"))),c.a.createElement("tbody",null,W&&W.map((function(e,t){var a,n;return c.a.createElement("tr",{key:"tassk-".concat(t)},c.a.createElement("td",null,c.a.createElement("input",{type:"checkbox",checked:T.includes(e._id),onChange:function(t){A(t.target.checked?[].concat(Object(j.a)(T),[e._id]):T.filter((function(t){return t!==e._id})))}})),c.a.createElement("td",null,t+1),c.a.createElement("td",null,"".concat(null===e||void 0===e||null===(a=e.groupInfo)||void 0===a?void 0:a.title," (").concat(null===e||void 0===e||null===(n=e.groupInfo)||void 0===n?void 0:n.id.toString().slice(4),") \n(").concat(e.membersCount||"",")")),c.a.createElement("td",null,e.categoryState.map((function(e){return"".concat(Q[e.category]," \n")}))),c.a.createElement("td",null,e.categoryState.reduce((function(e,t){return e+ +t.size}),0)),c.a.createElement("td",null,e.categoryState.map((function(e){return c.a.createElement("div",null,e.page)}))),c.a.createElement("td",null,e.categoryState.map((function(e){return c.a.createElement("div",null,e.pageIncrementor)}))),c.a.createElement("td",null,e.channelName),c.a.createElement("td",null,e.linkType),c.a.createElement("td",null,e.cname),c.a.createElement("td",null,e.lastExecuted&&function(e){var t=new Date(e);return"".concat(t.toLocaleTimeString()," ").concat(t.toLocaleDateString())}(e.lastExecuted)),c.a.createElement("td",null,c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn icon-only",onClick:function(){return l.push({pathname:"/task/upsert",state:e})}},"Edit"),c.a.createElement("div",null,"active"===e.status?"":e.status))))})))),s&&c.a.createElement("div",{className:"d-flex loading-box"},c.a.createElement("div",{className:"loading-div"}),c.a.createElement("div",null,b))))}var H=a(89),W=a.n(H),Z=[{value:"mdisk"},{value:"dood"},{value:"vivdisk"}];function X(){var e,t=Object(u.f)(),a=Object(u.g)(),r=(null===a||void 0===a?void 0:a.state)||{},l=Object(n.useState)((null===(e=r.groupInfo)||void 0===e?void 0:e.id)||""),o=Object(E.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(r.groupInfo||{}),d=Object(E.a)(m,2),p=d[0],b=d[1],v=Object(n.useState)(r.categoryState||[M]),g=Object(E.a)(v,2),O=g[0],y=g[1],x=Object(n.useState)(r.channelName||"primexmov"),N=Object(E.a)(x,2),w=N[0],I=N[1],T=Object(n.useState)(r.linkType||Z[0].value),L=Object(E.a)(T,2),A=L[0],D=L[1],_=Object(n.useState)(!!r.thumbUrl||!1),F=Object(E.a)(_,2),z=F[0],U=F[1],Y=Object(n.useState)(r.thumbUrl||"https://drive.google.com/uc?export=view&id=1GK6SH3Kwgu-Nwr4ilQPyiKuk26tbZmxb"),G=Object(E.a)(Y,2),B=G[0],J=G[1],K=Object(n.useState)(!!r.cname&&"v1"!==r.cname),Q=Object(E.a)(K,2),V=Q[0],H=Q[1],X=Object(n.useState)(r.cname||"v1"),$=Object(E.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(!r.groupInfo||r.isEuOrgLink),ne=Object(E.a)(ae,2),ce=ne[0],re=ne[1],le=Object(n.useState)(!!r.groupInfo&&r.isNewMdisk),oe=Object(E.a)(le,2),ie=oe[0],se=oe[1],ue=Object(n.useState)(!1),me=Object(E.a)(ue,2),de=me[0],pe=me[1],be=Object(n.useState)(""),ve=Object(E.a)(be,2),ge=ve[0],he=ve[1],fe=function(e,t){var a=Object(j.a)(O);"number"===typeof t?a[t]=e:a.push(e),y(a)},Ee=function(e){var t=O.filter((function(t,a){return a!==e}));y(t)},ke=function(){var e=Object(f.a)(h.a.mark((function e(a){var n,c,l,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),!P()(p)){e.next=4;break}return he("Click on get info after passing groupId"),e.abrupt("return",!1);case 4:if(pe(!0),(n={groupInfo:p,categoryState:O,channelName:w,linkType:A,isNewMdisk:ie,isEuOrgLink:ce}).thumbUrl=z?B:"",n.cname=V?ee:"",console.log("sfsfsf",n),e.prev=9,!r._id){e.next=32;break}if(n.groupInfo===r.groupInfo&&n.groupInfo&&delete n.groupInfo,n.channelName===r.channelName&&n.channelName&&delete n.channelName,n.linkType===r.linkType&&n.linkType&&delete n.linkType,z&&n.thumbUrl===r.thumbUrl&&delete n.thumbUrl,n.cname===r.cname&&delete n.cname,n.isNewMdisk===r.isNewMdisk&&delete n.isNewMdisk,n.isEuOrgLink===r.isEuOrgLink&&delete n.isEuOrgLink,W()(n.categoryState,r.categoryState)&&delete n.categoryState,!P()(n)){e.next=22;break}return pe(!1),e.abrupt("return");case 22:return n._id=r._id,e.next=25,S.a.post("/api/v1/task/update",n);case 25:c=e.sent,l=c.data,console.log("update response==",l),l&&t.push("/task"),pe(!1),e.next=39;break;case 32:return e.next=34,S.a.post("/api/v1/task/add",n);case 34:o=e.sent,i=o.data,console.log("api response===",i),i&&t.push("/task"),pe(!1);case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(9),console.log("api error",e.t0),pe(!1);case 45:case"end":return e.stop()}}),e,null,[[9,41]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("main",null,c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Gdrive token generator"),c.a.createElement("form",{onSubmit:ke},c.a.createElement(q,{id:"linkType",name:"linkType",label:"Link Type",options:Z,value:A,onChange:D,required:!0}),c.a.createElement(k.a,{id:"groupId",name:"groupId",label:"Group Id",value:i,onChange:s,required:!0}),c.a.createElement("div",{className:"d-flex",style:{alignItems:"center"}},c.a.createElement("button",{disabled:de,onClick:Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,pe(!0),e.next=4,S.a.get("/api/v1/task/telegramget?url=https://api.telegram.org/bot_bot_token_/getChat?chat_id=".concat(i));case 4:t=e.sent,a=t.data,n=void 0===a?{}:a,console.log("api response===",n),b(n.data.result),pe(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),pe(!1),b({});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))},de?"Loading...":"Get Chat Info"),c.a.createElement("div",{style:{flex:1}},c.a.createElement(k.a,{id:"groupName",name:"groupName",label:"",value:p.title,disabled:!0}))),c.a.createElement(k.a,{id:"channelName",name:"channelName",label:"Channel Name(without @)",value:w,onChange:I,required:!0}),c.a.createElement("div",{style:{paddingBottom:20}},c.a.createElement("input",{type:"checkbox",id:"isNewMdisk",name:"isNewMdisk",checked:ie,onChange:function(){return se(!ie)}}),c.a.createElement("label",{htmlFor:"isNewMdisk"},"Convert New mdisk links by bot")),c.a.createElement("div",{style:{paddingBottom:20}},c.a.createElement("input",{type:"checkbox",id:"isEuOrgLink",name:"isEuOrgLink",checked:ce,onChange:function(){return re(!ce)}}),c.a.createElement("label",{htmlFor:"isEuOrgLink"},"Get mdisk.eu.org links")),c.a.createElement("div",{style:{paddingBottom:z?5:20}},c.a.createElement("input",{type:"checkbox",id:"thumbActive",name:"thumbActive",checked:z,onChange:function(){return U(e=!z),void y(e?O.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{isRealImage:!1})})):O.map((function(e){return delete e.isRealImage,Object(C.a)({},e)})));var e}}),c.a.createElement("label",{htmlFor:"thumbActive"},"Add Thumb image to message")),z&&c.a.createElement(k.a,{id:"thumbUrl",name:"thumbUrl",label:"",value:B,onChange:J}),c.a.createElement("div",{style:{paddingBottom:V?5:20}},c.a.createElement("input",{type:"checkbox",id:"isCustomCname",name:"isCustomCname",checked:V,onChange:function(){return H(!V)}}),c.a.createElement("label",{htmlFor:"isCustomCname"},"Use Custom cname")),V&&c.a.createElement(k.a,{id:"cname",name:"cname",label:"",value:ee,onChange:te}),O.map((function(e,t){return c.a.createElement(R,{key:t,index:t,defaultState:e,handleCategoryState:fe,isLastElement:O.length-1===t,handleDeleteCatagory:Ee,isThumbActive:z})})),ge&&c.a.createElement("div",{style:{color:"red"}},ge),c.a.createElement("div",{className:"d-flex",style:{justifyContent:"space-between"}},c.a.createElement("button",{disabled:de,className:"btn primary".concat(de?" loading":""),type:"submit"},r._id?"Update Task":"Insert Task"),r._id&&c.a.createElement("button",{disabled:de,className:"btn danger",onClick:Object(f.a)(h.a.mark((function e(){var a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe(!0),e.prev=1,(a={isDeleted:!0})._id=r._id,e.next=6,S.a.post("/api/v1/task/update",a);case 6:n=e.sent,c=n.data,console.log("Delete response==",c),c&&t.push("/task"),pe(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),pe(!1);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))},"Delete")))))}var $=a(90),ee=a.n($);function te(){var e=Object(n.useState)({}),t=Object(E.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),o=Object(E.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)([]),m=Object(E.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)(""),v=Object(E.a)(b,2),g=v[0],k=v[1],O=Object(n.useState)("Loading..."),x=Object(E.a)(O,2),C=x[0],N=x[1],w=Object(n.useState)({by:"",order:"asc"}),T=Object(E.a)(w,2),L=T[0],A=T[1],D=a.joinRequests,_=void 0===D?[]:D,q=I()(_,L.by,L.order),F=function(e){var t=L.by===e&&"asc"===L.order?"desc":"asc";A({by:e,order:t})},M=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t=parseInt(g),a=ee()().add("days",-t),n=g?{created:a.format("YYYY-MM-DD")}:{},e.next=6,S.a.post("/api/v1/chatjoin/all",{action:"list",data:n});case 6:c=e.sent,l=c.data,r((void 0===l?{}:l).data),s(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){k(e)};Object(n.useEffect)((function(){M()}),[g]);var z=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,c,r,l,o,i,u,m,p,b,v,g=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.length>0&&void 0!==g[0]?g[0]:"/approve",e.prev=1,s(!0),a=q.filter((function(e){return d.includes(e._id)})),n=J(a),c=Object(E.a)(n,2),r=c[0],l=c[1],o=Object(y.a)(r),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=25;break}return u=i.value,e.prev=10,m=r.indexOf(u),N("Accepting request ".concat(m*l,"/").concat(a.length)),e.next=15,S.a.post("/api/v1/chatjoin".concat(t),{requests:u});case 15:p=e.sent,b=p.data,v=void 0===b?{}:b,console.log("Approve response===",v),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:e.next=8;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(6),o.e(e.t1);case 30:return e.prev=30,o.f(),e.finish(30);case 33:s(!1),N("Loading..."),M(),e.next=42;break;case 38:e.prev=38,e.t2=e.catch(1),s(!1),M();case 42:case"end":return e.stop()}}),e,null,[[1,38],[6,27,30,33],[10,21]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("main",null,c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"d-flex flex-1"},c.a.createElement("h1",null,"Requests List"),c.a.createElement("button",{style:{marginLeft:20},className:"danger",onClick:M},"Refresh")),!!d.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{disabled:i,style:{marginRight:5},onClick:function(){return z()}},"Approve ".concat(d.length," requests")),c.a.createElement("button",{disabled:i,onClick:function(){return z("/approveandclear")}},"ApproveClear ".concat(d.length," requests")))),c.a.createElement("div",{className:"d-flex align-center",style:{padding:"15px 0px"}},c.a.createElement("div",null,"Filters: "),c.a.createElement("button",{className:"1DAY"===g?"":"outline",onClick:function(){p([]),R("1DAY"===g?"":"1DAY")}},"1 day ago"),c.a.createElement("button",{className:"2DAY"===g?"":"outline",onClick:function(){p([]),R("2DAY"===g?"":"2DAY")}},"2 day ago")),c.a.createElement("table",{className:"task"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement("input",{type:"checkbox",checked:d.length===q.length,onChange:function(e){p(e.target.checked?q.map((function(e){return e._id})):[])}})),c.a.createElement("th",null,"S.No"),c.a.createElement("th",{onClick:function(){return F("from.id")}},"User Id"),c.a.createElement("th",{onClick:function(){return F("from.first_name")}},"First Name"),c.a.createElement("th",{onClick:function(){return F("chat.title")}},"Chat"),c.a.createElement("th",{onClick:function(){return F("created")}},"Created"),c.a.createElement("th",{onClick:function(){return F("status")}},"Status"))),c.a.createElement("tbody",null,q&&q.map((function(e,t){return c.a.createElement("tr",{key:"tassk-".concat(t)},c.a.createElement("td",null,c.a.createElement("input",{type:"checkbox",checked:d.includes(e._id),onChange:function(t){p(t.target.checked?[].concat(Object(j.a)(d),[e._id]):d.filter((function(t){return t!==e._id})))}})),c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.from.id),c.a.createElement("td",null,e.from.first_name),c.a.createElement("td",null,e.chat.title),c.a.createElement("td",null,e.created&&function(e){var t=new Date(e);return"".concat(t.toLocaleTimeString()," ").concat(t.toLocaleDateString())}(e.created)),c.a.createElement("td",null,c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{disabled:i,onClick:Object(f.a)(h.a.mark((function t(){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,S.a.post("/api/v1/chatjoin/reject",{requests:[e]});case 4:a=t.sent,n=a.data,c=void 0===n?{}:n,console.log("reject response===",c),s(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),s(!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},"Reject"),c.a.createElement("button",{className:"btn",disabled:i,onClick:Object(f.a)(h.a.mark((function t(){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,S.a.post("/api/v1/chatjoin/approve",{requests:[e]});case 4:a=t.sent,n=a.data,c=void 0===n?{}:n,console.log("Approve response===",c),s(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),s(!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},"Approve"))))})))),i&&c.a.createElement("div",{className:"d-flex loading-box"},c.a.createElement("div",{className:"loading-div"}),c.a.createElement("div",null,C))))}var ae=function(){return c.a.createElement(s.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:v}),c.a.createElement(u.a,{exact:!0,path:"/search"},c.a.createElement(v,{tab:"search"})),c.a.createElement(u.a,{path:"/drive/:folderId?"},c.a.createElement(v,{tab:"drive"})),c.a.createElement(u.a,{exact:!0,path:"/download"},c.a.createElement(v,{tab:"downloads"})),c.a.createElement(u.a,{exact:!0,path:"/drivehelp",component:O}),c.a.createElement(u.a,{exact:!0,path:"/task",component:V}),c.a.createElement(u.a,{exact:!0,path:"/task/upsert",component:X}),c.a.createElement(u.a,{exact:!0,path:"/requests",component:te})))};a(210),a(211),a(212);l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i,null),c.a.createElement(ae,null)),document.getElementById("root"))},7:function(e,t,a){"use strict";var n=a(37),c=a(0),r=a.n(c),l=["label","labelProps","wrapperClass","onChange","id"];function o(e){var t=e.label,a=(e.labelProps,e.wrapperClass),c=e.onChange,o=e.id,i=Object(n.a)(e,l);return r.a.createElement("div",{className:"form-group ".concat(a||"")},r.a.createElement("label",{htmlFor:o},t),r.a.createElement("input",Object.assign({className:"form-control",id:o,onChange:function(e){return c(e.target.value)}},i)))}o.defaultProps={type:"text",onChange:function(e){return console.log("Value: ",e)}},t.a=o},85:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return l}));var n=a(1),c=a(0),r=a.n(c);function l(){var t=!1;e.browser&&(t="true"===localStorage.getItem("nightMode"));var a=Object(c.useState)(t),l=Object(n.a)(a,2),o=l[0],i=l[1];return e.browser&&(o?(document.body.classList.add("dark"),localStorage.setItem("nightMode",!0)):(document.body.classList.remove("dark"),localStorage.setItem("nightMode",!1))),r.a.createElement("button",{className:"btn mv-auto sm neutral",onClick:function(){return i(!o)}},r.a.createElement("span",{className:"bnt-icon"},r.a.createElement("ion-icon",{name:"moon"})))}}).call(this,a(57))},91:function(e,t,a){e.exports=a(213)}},[[91,2,3]]]);
//# sourceMappingURL=main.05d339e4.chunk.js.map